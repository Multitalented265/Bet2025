# Deploying Bet2025 to Render

## Prerequisites
- A Render account (sign up at https://render.com)
- Your code pushed to a Git repository (GitHub, GitLab, etc.)

## Step-by-Step Deployment Guide

### 1. Connect Your Repository
1. Log in to your Render dashboard
2. Click "New +" and select "Blueprint"
3. Connect your Git repository
4. Select the repository containing your Bet2025 project

### 2. Configure Environment Variables
In your Render dashboard, you'll need to set these environment variables:

#### Required Environment Variables:
- `DATABASE_URL` - Will be automatically set by Render's PostgreSQL service
- `NEXTAUTH_SECRET` - Will be automatically generated by Render
- `NEXTAUTH_URL` - Set to your Render app URL (e.g., https://your-app-name.onrender.com)
- `PAYCHANGU_PUBLIC_KEY` - Your PayChangu public key
- `PAYCHANGU_SECRET_KEY` - Your PayChangu secret key
- `PAYCHANGU_WEBHOOK_URL` - Set to https://your-app-name.onrender.com/api/paychangu/webhook
- `PAYCHANGU_CALLBACK_URL` - Set to https://your-app-name.onrender.com/wallet
- `PAYCHANGU_RETURN_URL` - Set to https://your-app-name.onrender.com/wallet
- `ADMIN_EMAIL` - Your admin email
- `ADMIN_PASSWORD` - Your admin password
- `NEXT_PUBLIC_ADMIN_EMAIL` - Your admin email
- `NEXT_PUBLIC_ADMIN_PASSWORD` - Your admin password

### 3. Database Setup
1. In your Render dashboard, create a new PostgreSQL database
2. The `DATABASE_URL` will be automatically linked to your web service
3. After deployment, run database migrations:
   ```bash
   npx prisma migrate deploy
   ```

### 4. Build and Deploy
1. Render will automatically detect your Next.js application
2. The build command will be: `npm install && npx prisma generate && npm run build`
3. The start command will be: `npm start`
4. Render will build and deploy your application

### 5. Post-Deployment Steps
1. **Run Database Migrations**: After the first deployment, you may need to run:
   ```bash
   npx prisma migrate deploy
   ```
2. **Update PayChangu URLs**: Update your PayChangu webhook and callback URLs to point to your new Render domain
3. **Test the Application**: Verify all features work correctly

### 6. Custom Domain (Optional)
1. In your Render dashboard, go to your web service
2. Click on "Settings" â†’ "Custom Domains"
3. Add your custom domain and configure DNS

### 7. Monitoring and Logs
- Monitor your application in the Render dashboard
- Check logs for any issues
- Set up alerts for downtime

## Important Notes

### Environment Variables
- Never commit sensitive environment variables to your repository
- Use Render's environment variable management system
- The `DATABASE_URL` will be automatically provided by Render's PostgreSQL service

### Database
- Render provides a managed PostgreSQL database
- The database will be automatically linked to your web service
- Run migrations after deployment

### Performance
- Render's free tier has limitations
- Consider upgrading to a paid plan for production use
- Monitor your application's performance

### Security
- Keep your environment variables secure
- Regularly update dependencies
- Monitor for security vulnerabilities

## Troubleshooting

### Common Issues:
1. **Build Failures**: Check the build logs in Render dashboard
2. **Database Connection**: Ensure `DATABASE_URL` is properly set
3. **Environment Variables**: Verify all required variables are set
4. **Migration Issues**: Run `npx prisma migrate deploy` after deployment

### Support:
- Check Render's documentation: https://render.com/docs
- Contact Render support if needed
- Check your application logs for specific errors

## Cost Considerations
- Free tier: Limited resources, suitable for development
- Paid plans: Better performance and features
- Database: Separate pricing for PostgreSQL instances
- Bandwidth: Included in paid plans

Your application should now be successfully deployed on Render! ðŸš€ 